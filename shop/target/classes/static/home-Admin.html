<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Home</title>

    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">

   
    <link rel="stylesheet" href="css/bootstrap.min.css">   
    <link rel="stylesheet" href="css/style.css">  
    <link rel="stylesheet" href="css/responsive.css">   
    <link rel="stylesheet" href="css/custom.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="js/holder.js" defer></script>


</head>

<body>

    <!-- Start Main Top -->
    <header class="main-header">
        <!-- Start Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light navbar-default bootsnav">
            <div class="container">
                <!-- Start Header Navigation -->
                <div class="navbar-header">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbars-rs-food" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars"></i>
                </button>
                    <a class="navbar-brand" href="home-Admin.html"><img src="images/logo.png" class="logo" alt=""></a>
                </div>
                <!-- End Header Navigation -->

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="navbar-menu">
                    <ul class="nav navbar-nav ml-auto" data-in="fadeInDown" data-out="fadeOutUp">
                        <li class="nav-item"><a class="nav-link" href="home-Admin.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="Massege.html">Massages</a></li>
                        <li class="nav-item"><a class="nav-link" href="Add_product.html">Add Product</a></li>
                        <li class="nav-item"><a class="nav-link" href="javascript:logout()"> <i class="fas fa-sign-out-alt"></i></a></li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->

            </div>
           
        </nav>
        <script>
    function logout(){
        setToken(null);
        window.location.replace("http://localhost:8080/login.html");
        }
</script>
        <!-- End Navigation -->
    </header>
    <!-- End Main Top -->

    <!-- Start All Title Box -->
    <div class="all-title-box">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>Hello</h2>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End All Title Box -->

    <!-- Start Shop Page  -->
    <div class="shop-box-inner">
        <div class="container">
            <div class="row">
                <div class="col-xl-3 col-lg-3 col-sm-12 col-xs-12 sidebar-shop-left">
                    <div class="product-categori">
                        <div class="search-product">
                            <form action="#">
                                <input class="form-control" id="search" placeholder="Search here..." type="text">
                                <button type="submit" id="submitsearch"> <i class="fa fa-search"></i> </button>
                            </form>
                        </div>
                        <div class="filter-sidebar-left">
                            <div class="title-left">
                                <h3>Categories</h3>
                            </div>
                            <div class="list-group list-group-collapse list-group-sm list-group-tree" id="list-group-men" data-children=".sub-men">
                                
                                <a href="#" id="man" class="list-group-item list-group-item-action"> Men  </a>
                                <a href="#" id="woman" class="list-group-item list-group-item-action">Woman </a>
                                <a href="#" id="kids" class="list-group-item list-group-item-action">Kids </a>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-xl-9 col-lg-9 col-sm-12 col-xs-12 shop-content-right">
                    <div class="right-product-box">
                        <div class="product-item-filter row">
                            <div class="col-12 col-sm-8 text-center text-sm-left">
                                <div class="toolbar-sorter-right">

                                </div>

                            </div>
                            <div class="col-12 col-sm-4 text-center text-sm-right">
                                <ul class="nav nav-tabs ml-auto">
                                    <li>
                                        <a class="nav-link active" href="#grid-view" data-toggle="tab"> <i class="fa fa-th"></i> </a>
                                    </li>
                                    <li>
                                        <a class="nav-link" href="#list-view" data-toggle="tab"> <i class="fa fa-list-ul"></i> </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="row product-categorie-box">
                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane fade show active" id="grid-view">
                                    <div class="row" id="gridview">
                              <!----------------------------------------------------------------->

                               <!----------------------------------------------------------------------------------->
                                  </div>
                                </div>
                                <div role="tabpanel" class="tab-pane fade" id="list-view">
                                <!------------------------------------------------------->

                                    <!-------------------------------------------------->

                                    <script>
                                        $(document).ready(function(){
                                          var url = "http://localhost:8080/User/getallproducts"
                                          console.log("page loaded");  
                                         $.ajax({
                                            url:url, 
                                            type:"GET",
                                            headers: getAuthHeaders() ,
                                            dataType: "json",
                                            success:function(data){

                                                display(data);
                                            },
                                            error:function(){
                                                 window.location.replace("http://localhost:8080/login.html");
                                            }
                                           })
                                         })

                                        $('#man').click(function(){
                                          var url = "http://localhost:8080/User/getbycategory?category=Man"
                                          console.log("page loaded");  
                                         $.ajax({
                                            url:url, 
                                            type:"GET",
                                            headers: getAuthHeaders() ,
                                            dataType: "json",
                                            success:function(data){

                                                display(data);
                                            },
                                            error:function(){}
                                           })
                                         })
                                         $('#woman').click(function(){
                                          var url = "http://localhost:8080/User/getbycategory?category=Woman"
                                          console.log("page loaded");  
                                         $.ajax({
                                            url:url, 
                                            type:"GET",
                                            headers: getAuthHeaders() ,
                                            dataType: "json",
                                            success:function(data){
                                                display(data);
                                            },
                                            error:function(){}
                                           })
                                         })
                                         $('#kids').click(function(){
                                          var url = "http://localhost:8080/User/getbycategory?category=KIds"
                                          console.log("page loaded");  
                                         $.ajax({
                                            url:url, 
                                            type:"GET",
                                            headers: getAuthHeaders() ,
                                            dataType: "json",
                                            success:function(data){

                                                display(data);
                                            },
                                            error:function(){}
                                           })
                                         })

                                         $('#submitsearch').click(function(){
                                            console.log("done search");
                                             var search = document.getElementById("search").value;
                                             var url = `http://localhost:8080/User/search?pName=${search}`;
                                         $.ajax({
                                            url:url, 
                                            type:"GET",
                                            headers: getAuthHeaders() ,
                                            dataType: "json",
                                            success:function(data){
                                                display1(data);
                                            },
                                            error:function(){
                                               alert('No product found.');
                                            }
                                           })
                                         })

                                        function display(data){
                                             $('#gridview').empty();
                                             $('#list-view').empty();
                                            for(i=0; i<data.length; i++){
                                                    var product = data[i];
                                                    // Append both views to the container
                                                    var productGridDiv = `
                                                      <div class="col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                                          <div class="products-single fix">
                                                              <div class="box-img-hover">
                                                                  <img src="images/${product.image1}" class="img-fluid" alt="Image">
                                                                  <div class="mask-icon">
                                                                      <a class="cart" href="javascript:setIdToEdit(${product.id});">Update</a>
                                                                      <a class="delete" href="javascript:delProduct(${product.id});">Delete</a>   
                                                                  </div>
                                                              </div>
                                                              <div class="why-text">
                                                                  <h4>${product.pName}</h4>
                                                                  <h5>$${product.price}</h5>
                                                              </div>
                                                          </div>
                                                      </div>`;
                              
                                                  // List view div
                                                  var productListDiv = `
                                                      <div class="list-view-box">
                                                          <div class="row">
                                                              <div class="col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                                                  <div class="products-single fix">
                                                                      <div class="box-img-hover">
                                                                          <img src="images/${product.image1}" class="img-fluid" alt="Image">
                                                                      </div>
                                                                  </div>
                                                              </div>
                                                              <div class="col-sm-6 col-md-6 col-lg-8 col-xl-8">
                                                                  <div class="why-text full-width">
                                                                      <h4>${product.pName}</h4>
                                                                      <h5><del>$${product.mainprice}</del> $${product.price}</h5>
                                                                      <p>${product.pDescription}</p>
                                                                      <a class="btn hvr-hover" href="javascript:setIdToEdit(${product.id});">Update</a>
                                                                      <a class="btn hvr-hover" href="javascript:delProduct(${product.id});">Delete</a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>`;
                    $('#gridview').append(productGridDiv);
                    $('#list-view').append(productListDiv);
                                                  }

                                        }

                                        function display1(data){
                                            if(data===null){
                                                alert("No Product Found");
                                            }
                                             $('#gridview').empty();
                                             $('#list-view').empty();
                                                    var product = data
                                                    // Append both views to the container
                                                    var productGridDiv = `
                                                      <div class="col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                                          <div class="products-single fix">
                                                              <div class="box-img-hover">
                                                                  <img src="images/${product.image1}" class="img-fluid" alt="Image">
                                                                  <div class="mask-icon">
                                                                      <a class="cart" href="javascript:setIdToEdit(${product.id});">Update</a>
                                                                      <a class="delete" href="javascript:delProduct(${product.id});">Delete</a>   
                                                                  </div>
                                                              </div>
                                                              <div class="why-text">
                                                                  <h4>${product.pName}</h4>
                                                                  <h5>$${product.price}</h5>
                                                              </div>
                                                          </div>
                                                      </div>`;
                              
                                                  // List view div
                                                  var productListDiv = `
                                                      <div class="list-view-box">
                                                          <div class="row">
                                                              <div class="col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                                                  <div class="products-single fix">
                                                                      <div class="box-img-hover">
                                                                          <img src="images/${product.image1}" class="img-fluid" alt="Image">
                                                                      </div>
                                                                  </div>
                                                              </div>
                                                              <div class="col-sm-6 col-md-6 col-lg-8 col-xl-8">
                                                                  <div class="why-text full-width">
                                                                      <h4>${product.pName}</h4>
                                                                      <h5><del>$${product.mainprice}</del> $${product.price}</h5>
                                                                      <p>${product.pDescription}</p>
                                                                      <a class="btn hvr-hover" href="javascript:setIdToEdit(${product.id});">Update</a>
                                                                      <a class="btn hvr-hover" href="javascript:delProduct(${product.id});">Delete</a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>`;
                    $('#gridview').append(productGridDiv);
                    $('#list-view').append(productListDiv);
                                                  

                                        }


                                        function setIdToEdit(id){
                                            setProductId(id);
                                            window.location.replace("http://localhost:8080/Update_product.html");
                                            console.log("id set"+ id);
                                        }




                                        function delProduct(id){
                                            var url = `http://localhost:8080/Admin/DelProduct?id=${id}`
                                            $.ajax({
                                                url:url,
                                                type:"POST",
                                                headers: getAuthHeaders() ,
                                                success: function(){
                                                    console.log("item deleted");
                                                    window.location.replace("http://localhost:8080/home-Admin.html");
                                                },
                                                error: function(jqXHR, textStatus, errorThrown) {
                                                 console.error("Error deleting item:", textStatus, errorThrown);
                                                    console.error("Response text:", jqXHR.responseText);
                                                }
                                            })
                                        }







                                        </script>
                                </div>   
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Shop Page -->

    <!-- Start Instagram Feed  -->
    <div class="instagram-box">
        <div class="main-instagram owl-carousel owl-theme">
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-01.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-02.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-03.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-04.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-05.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-06.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-07.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-08.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-09.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="ins-inner-box">
                    <img src="images/instagram-img-05.jpg" alt="" />
                    <div class="hov-in">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Instagram Feed  -->


        <!-- Start Footer  -->
        <footer>
            <div class="footer-main">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-4 col-md-12 col-sm-12">
                            <div class="footer-widget">
                                <h4>About Try & Buy</h4>
                                <p> Try and buy it's our graduation project from faculty of computer and information helwan university major computer science. Our project goal is to help people how to imagine how clothes can fit on you this makes you sure when you bought clothes online . We hope to find our project good as you imagine 
                                    </p>
                                <ul>
                                    <li><a href="#"><i class="fab fa-facebook" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fab fa-twitter" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fab fa-google-plus" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-rss" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fab fa-pinterest-p" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fab fa-whatsapp" aria-hidden="true"></i></a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-12 col-sm-12">
                        </div>
                        <div class="col-lg-4 col-md-12 col-sm-12">
                            <div class="footer-link-contact">
                                
                                <h4>Contact Us</h4>
                                <ul>
                                    <li>
                                        <p><i class="fas fa-map-marker-alt"></i>Address: Egypt
                                    </li>
                                    <li>
                                        <p><i class="fas fa-phone-square"></i>Phone: <a href="tel:01000000000">010</a></p>
                                    </li>
                                    <li>
                                        <p><i class="fas fa-envelope"></i>Email: <a href="mailto:try&buy@gmail.com">Try&buy@gmail.com</a></p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer  -->

     <!-- Start copyright  -->
     <div class="footer-copyright">
        <p class="footer-company">All Rights Reserved. &copy; 2025 <a href="#">Try&Buy</a> 
            </p>
    </div>
    <!-- End copyright  -->

    <a href="#" id="back-to-top" title="Back to top" style="display: none;">&uarr;</a>

    <!-- ALL JS FILES -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- ALL PLUGINS -->
    <script src="js/jquery.superslides.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/inewsticker.js"></script>
    <script src="js/bootsnav.js."></script>
    <script src="js/images-loded.min.js"></script>
    <script src="js/isotope.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/baguetteBox.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/form-validator.min.js"></script>
    <script src="js/contact-form-script.js"></script>
    <script src="js/custom.js"></script>
</body>

</html>